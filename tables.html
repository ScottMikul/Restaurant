<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Document</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <script src="https://kit.fontawesome.com/85b973685b.js" crossorigin="anonymous"></script>
</head>

<body>
    <div class="container">

            <div class="jumbotron">
                    <h1 class="text-center">Hot Restaurant</h1>
                    <hr class="my-4">
                    <h3 class="text-center">Current reservations and wait list</h3>
                    
                    <div class="text-center">
                    <a class="btn btn-danger btn-lg" href="/reservations" role="button">Make reservation</a>
                    <a class="btn btn-light btn-lg" href="/" role="button"><i class="fas fa-home"></i></a>
                  </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-12">

                        <!-- Current Tables in Use -->
                        <div class="panel panel-default">
                            <div class="panel-heading bg-light">
                                <h4 class="panel-title">Current Reservations</h4>
                            </div>
                            <div class="panel-body" id="tableSection">
                            <div class="well bg-light" id="tableWell-01">
                                <h2 id="table0"><span class="label label-primary">1 |</span></h2>
                            </div>
                            <div class="well bg-light" id="tableWell-11">
                                <h2 id="table1"><span class="label label-primary">2 |</span></h2>
                            </div>
                            <div class="well bg-light" id="tableWell-21">
                                <h2 id="table2"><span class="label label-primary">3 |</span></h2>
                            </div>
                            <div class="well bg-light" id="tableWell-31">
                                <h2 id="table3"><span class="label label-primary">4 |</span></h2>
                            </div>
                            <div class="well bg-light" id="tableWell-31">
                                    <h2 id="table4"><span class="label label-primary">5 |</span></h2>
                                </div>
                        </div>
                        </div>
        
                        <!-- Waiting List Panel -->
                        <div class="panel panel-default">
                            <div class="panel-heading bg-light">
                                <h4 class="panel-title">Waiting List</h4>
                            </div>
                            <div class="panel-body" id="waitlistSection">
                            </div>
                        </div>
                    </div>


                    
                    </div>









                       
    </div>
    <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous"></script>
  <script>
      
  
          var table1 = $("#table0");
          var table2 = $("#table1");
          var table3 = $("#table2");
          var table4 = $("#table3");
          var table5 = $("#table4");
  
        $.ajax({
            url: "/api/tables",
            type: "GET"
        }).then(function(res){
            console.log(res);
            for(var i = 0; i < res.length; i++){
                var q = i + 1;
                $("#table" + i).text(q + " | " + res[i].id);
            }
        }
        )
        $.ajax({
            url: "/api/waitlist",
            type: "GET"
        }).then(function(res){
            console.log(res);
            for (var i = 0; i < res.length; i++) {
                var newDiv = $("<div>");
                var newHeader = $("<h4>");
                newHeader.text(res[i].id);
                newDiv.append(newHeader);
                $("#waitlistSection").append(newDiv);

            }
        })
  
  </script>
    </body>